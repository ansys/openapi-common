[build-system]
requires = [
  "setuptools >= 40.9.0",
  "wheel",
]
build-backend = "setuptools.build_meta"

[tool.tox]
legacy_tox_ini = """
[tox]
envlist = py36,py37,py38,py39
isolated_build = True

[gh-actions]
python =
    3.6: py36
    3.7: py37
    3.8: py38
    3.9: py39

[testenv]
deps =
    .[oidc]
    pytest
    requests-mock
    pytest-mock
    covertable
    pytest-cov
commands = pytest ./tests

[testenv:coverage]
commands = pytest --cov=ansys.grantami.common ./tests

[testenv:lint]
deps =
    black
    mypy
    types-requests
    types-python-dateutil
    {[testenv]deps}

commands =
    black --check ./tests ./src
    mypy ./src
"""